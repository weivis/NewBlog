(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef87cbb"],{2934:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"a",(function(){return l}));var a=o("b775");function n(t){return Object(a["a"])({url:"/upload/",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}function l(t){return Object(a["a"])({url:"/auth/adminLogin",method:"post",data:t})}},"74eb":function(t,e,o){"use strict";o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return l})),o.d(e,"b",(function(){return r}));var a=o("b775");function n(t){return Object(a["a"])({url:"/components/Query",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/components/Del",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/components/Put",method:"post",data:t})}},b863:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-drawer",{attrs:{title:"新增项",visible:t.drawer,direction:"rtl"},on:{"update:visible":function(e){t.drawer=e}}},[o("div",{staticClass:"drawer-box"},[o("el-row",{staticClass:"input"},[t._v(" 组件类型 "),o("el-radio-group",{model:{value:t.putform.components,callback:function(e){t.$set(t.putform,"components",e)},expression:"putform.components"}},[o("el-radio-button",{attrs:{label:0}},[t._v("请选择")]),t._l(t.opt_components,(function(e,a){return o("el-radio-button",{key:"putform.components"+a,attrs:{label:e.key}},[t._v(t._s(e.name))])}))],2)],1),o("el-row",{staticClass:"input"},[t._v(" 链接类型 "),o("el-radio-group",{model:{value:t.putform.totype,callback:function(e){t.$set(t.putform,"totype",e)},expression:"putform.totype"}},[o("el-radio-button",{attrs:{label:1}},[t._v("站内文章")]),o("el-radio-button",{attrs:{label:2}},[t._v("站外链接")])],1)],1),2==t.putform.totype?o("el-row",{staticClass:"input"},[o("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!1,drag:"",action:"","http-request":t.upLoad,multiple:""}},[t.lodpath?o("img",{staticClass:"avatar",attrs:{src:t.lodpath}}):t._e(),o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),o("em",[t._v("点击上传")])])])],1):t._e(),2==t.putform.totype?o("div",{staticClass:"input"},[t._v(" 标题"),o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.putform.title,callback:function(e){t.$set(t.putform,"title",e)},expression:"putform.title"}})],1):t._e(),2==t.putform.totype?o("div",{staticClass:"input"},[t._v(" 介绍"),o("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.putform.introduce,callback:function(e){t.$set(t.putform,"introduce",e)},expression:"putform.introduce"}})],1):t._e(),o("div",{staticClass:"input"},[t._v(" 数据"),o("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.putform.data,callback:function(e){t.$set(t.putform,"data",e)},expression:"putform.data"}})],1),o("el-row",[o("el-button",{on:{click:function(e){return t.push()}}},[t._v("确定")])],1)],1)]),o("el-row",{staticClass:"input"},[o("div",{staticClass:"l"},[t._v(" 组件 "),o("el-radio-group",{model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[o("el-radio-button",{attrs:{label:0}},[t._v("全部")]),t._l(t.opt_components,(function(e,a){return o("el-radio-button",{key:"form.category"+a,attrs:{label:e.key}},[t._v(t._s(e.name))])}))],2)],1),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),o("div",{staticClass:"r"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.drawer=!0}}},[t._v("新增数据")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{prop:"id",label:"ID",width:"100px",align:"center"}}),o("el-table-column",{attrs:{prop:"components",label:"所属组件",align:"center"}}),o("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.totype?o("span",[t._v("站内文章")]):t._e(),2==e.row.totype?o("span",[t._v("站外链接")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"head",label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{height:"80px"}},[o("img",{staticStyle:{height:"100%"},attrs:{src:t.row.cover}})])]}}])}),o("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"}}),o("el-table-column",{attrs:{prop:"introduce",label:"介绍",align:"center"}}),o("el-table-column",{attrs:{prop:"data",label:"数据",align:"center"}}),o("el-table-column",{attrs:{prop:"sort",label:"权重",width:"100px",align:"center"}}),o("el-table-column",{attrs:{label:"更多"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{on:{click:function(o){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-row",{staticClass:"input"},[t.total>0?o("Pagination",{attrs:{page:t.currentPage,pageCount:t.totalPage,total:t.total},on:{pagination:function(e){return t.getList()},"update:page":function(e){t.currentPage=e},"update:pageCount":function(e){t.totalPage=e},"update:page-count":function(e){t.totalPage=e},"update:total":function(e){t.total=e}}}):t._e()],1)],1)},n=[],l=o("74eb"),r=o("2934"),s={name:"componentsdata",data:function(){return{tableData:[],currentPage:null,total:null,totalPage:null,form:{category:0,limit:50},drawer:!1,putform:{components:0,totype:1,data:null,cover:null,title:null,introduce:null},lodpath:null,opt_components:[{name:"IndexMore",key:"indexmore"}]}},components:{},methods:{getList:function(){var t=this;this.$http(Object(l["c"])({components:this.form.category,limit:this.form.limit}),(function(e){console.log(e),200==e.code?t.tableData=e.data:t.$message({message:e.msg,type:"error",duration:5e3})}))},upLoad:function(t){var e=this,o=new FormData;o.append("file",t.file),o.append("uploadKey","components"),this.$http(Object(r["b"])(o),(function(t){console.log(t),200==t.code?(e.putform.cover=t.data.filename,e.lodpath=t.data.lodpath):e.$message({message:t.msg,type:"error",duration:5e3})}))},del:function(t){var e=this;this.$http(Object(l["a"])({id:t}),(function(t){console.log(t),200==t.code?e.getList():e.$message({message:t.msg,type:"error",duration:5e3})}))},push:function(){var t=this,e=this.putform;this.$http(Object(l["b"])({components:e.components,totype:e.totype,data:e.data,cover:e.cover,title:e.title,introduce:e.introduce}),(function(e){console.log(e),200==e.code?(t.$message({message:e.msg,duration:5e3}),t.getList()):t.$message({message:e.msg,type:"error",duration:5e3})}))}},created:function(){this.getList()}},i=s,u=o("2877"),c=Object(u["a"])(i,a,n,!1,null,"076a7552",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-6ef87cbb.817de112.js.map